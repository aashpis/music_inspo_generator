<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Art & Music Idea Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 40px;
    }
    .section {
      margin-bottom: 40px;
    }
    .image-frame {
      width: 600px;
      height: 600px;
      margin: 20px auto;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      overflow: hidden;
    }
    .image-frame img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      margin: 20px;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background-color: #0066cc;
      color: white;
    }
    button:hover {
      background-color: #004999;
    }
    a.met-link {
      display: inline-block;
      margin-top: 10px;
      font-size: 16px;
      color: #0066cc;
      text-decoration: none;
    }
    a.met-link:hover {
      text-decoration: underline;
    }
    .music-output {
      font-size: 18px;
      text-align: left;
      max-width: 600px;
      margin: 0 auto;
      background: #f4f4f4;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .music-output p {
      margin: 6px 0;
    }
  </style>
</head>
<body><h1>Song Idea Generator</h1>
    <button onclick="generateBoth()">Generate Painting + Music Idea</button>

  <div id="painting-section" class="section">
    <h2>Painting</h2>
    <div id="painting-container">
      <p>Click the button to load a painting.</p>
    </div>
  </div>

  <div id="music-section" class="section">
    <h2>Music Idea</h2>
    <div id="music-container" class="music-output">
      <p>Click the button to generate a music idea.</p>
    </div>
  </div>

  <script>
    // -----------------------
    // MET Painting Generator
    // -----------------------
    async function getRandomPainting() {
      const container = document.getElementById("painting-container");
      container.innerHTML = "<p>Loading painting...</p>";

      try {
        const searchResponse = await fetch("https://collectionapi.metmuseum.org/public/collection/v1/search?hasImages=true&q=painting");
        const searchData = await searchResponse.json();

        if (!searchData.objectIDs || searchData.objectIDs.length === 0) {
          container.innerHTML = "<p>No paintings available.</p>";
          return;
        }

        let objectData = null;
        let attempts = 0;

        while (attempts < 10) {
          attempts++;
          const randomId = searchData.objectIDs[Math.floor(Math.random() * searchData.objectIDs.length)];
          const objectResponse = await fetch(`https://collectionapi.metmuseum.org/public/collection/v1/objects/${randomId}`);
          objectData = await objectResponse.json();

          if (objectData && objectData.objectName && objectData.objectName.toLowerCase() === "painting" && objectData.primaryImage) {
            container.innerHTML = `
              <h3>${objectData.title}</h3>
              <p><strong>Artist:</strong> ${objectData.artistDisplayName || "Unknown"}</p>
              <a class="met-link" href="${objectData.objectURL}" target="_blank">ðŸ”— View on The MET's Website</a>
              <div class="image-frame">
                <img src="${objectData.primaryImage}" alt="${objectData.title}">
              </div>
            `;
            return;
          }
        }

        container.innerHTML = "<p>Couldn't find a painting after 10 tries. Try again.</p>";
      } catch (error) {
        container.innerHTML = "<p>Failed to load painting. Try again.</p>";
        console.error(error);
      }
    }

    // -----------------------
    // Musical Idea Generator
    // -----------------------
    const atmospheres = [
      "Apocalyptic","Bright","Cold","Dark","Epic","Ethereal","Futuristic","Hazy","Hypnotic","Mechanical",
      "Medieval","Natural","Nocturnal","Party","Pastoral","Peaceful","Psychedelic","Autumn","Spring","Summer",
      "Winter","Space","Spiritual","Surreal","Urban","Warm"
    ];
    const moods = [
      "Angry","Aggressive","Anxious","Bittersweet","Calm","Disturbing","Energetic","Happy","Lethargic",
      "Longing","Mellow","Passionate","Playful","Quirky","Romantic","Sad","Depressive","Lonely","Melancholic",
      "Sombre","Sensual","Sentimental","Uplifting","Triumphant"
    ];
    const styles = [
      "Angular","Anthemic","Atmospheric","Atonal","Avant-garde","Chaotic","Complex","Dense","Dissonant",
      "Eclectic","Heavy","Lush","Maximalist","Melodic","Microtonal","Minimalistic","Noisy","Polyphonic",
      "Polyrhythmic","Progressive","Raw","Repetitive","Rhythmic","Bouncy","Punchy","Smooth","Soft","Sparse",
      "Technical","Theatrical"
    ];
    const themes = [
      "Abstract","Adolescence","Afterlife","Ageing","Alienation","Aliens","Apology","Betrayal","Infidelity",
      "Birthday","Childhood","Community","Conscious","Conspiracy","Crime","Dancing","Death","Domestic",
      "Dystopian","Cyberpunk","Educational","Escapism","Failure","Fame","Family","Parenthood","Fantasy",
      "Fashion","Film","Folklore","Food","Friendship","Greed","Grief","Health","Disease","Fitness","Mental health",
      "Addiction","Sobriety","Hedonistic","History","Antiquity","Prehistory","Holiday","Vegetarianism","Internet",
      "Introspective","Regret","Leisure","Literature","Love","Breakup","Loyalty","Marriage","Money","Mythology",
      "Nature","Animals","Nostalgia","Obsession","Occult","Paranoia","Paranormal","Patriotic","Philosophical",
      "Existential","Nihilistic","Pirates","Police","Prison","School","Science fiction","Self-hatred","Self-love",
      "Sexual","Sleep","Dreams","Sports","Suburban","Television","Travel","Vehicles","Video games","Vikings",
      "Violence","War","Wild West","Work"
    ];
    const genres = [
      "Chiptune","16-bit","Bitpop","Celtic Electronica","Chillout","Ambient Dub","Ambient House","Ambient Trance",
      "Balearic Beat","Downtempo","Trip Hop","Electroacoustic","Musique concrÃ¨te","Electro-Industrial","Dark Electro",
      "Balearic Beat","Breakbeat","Acid Breaks","Big Beat","Breakbeat Hardcore","Progressive Breaks","Broken Beat",
      "Bubblegum Bass","Deconstructed Club","Digital Cumbia","Drum and Bass","Atmospheric Drum and Bass",
      "Dancefloor Drum and Bass","Footwork Jungle","Jazzstep","Jungle","Liquid Drum and Bass","Minimal Drum and Bass",
      "Dubstep","Brostep","Chillstep","Melodic Dubstep","Jersey Club","EBM","Dark Electro","Futurepop","New Beat",
      "Electroclash","Electro-Disco","Hi-NRG","Italo-Disco","Spacesynth","Space Disco","Electro latino","Electro Swing",
      "Eurobeat","Eurodance","Bubblegum Dance","Italo Dance","Footwork","Freestyle","Latin Freestyle","Funk mandelÃ£o",
      "Jungle Dutch","Future Bass","Ghettotech","Glitch Hop","Grime","Neo-Grime","Acidcore","Breakbeat Hardcore",
      "Hardcore Breaks","Breakcore","Digital Hardcore","Speed House","House","Acid House","Afro House","3-Step",
      "Afropiano","Ambient House","Ballroom","Baltimore Club","Bass House","Speed House","Deep House","Lo-Fi House",
      "Diva House","Electro House","Complextro","Dutch House","Fidget House","French Electro","Euro House",
      "Festival Progressive House","French House","Funky House","Future Funk","Future House","Garage House",
      "Gospel House","G-House","Hip House","Italo House","Latin House","Melodic House","Microhouse","Organic House",
      "Outsider House","Lo-Fi House","Progressive House","Speed Garage","Tech House","Tribal House","Tropical House",
      "UK Hard House","Hardbass","Hyper Techno","Kuduro","Melodic Bass","Midtempo Bass","Moombahton","Nu-Disco",
      "Post-Dubstep","Techno","Acid Techno","Ambient Techno","Detroit Techno","Hard Techno","Industrial Techno",
      "Melodic Techno","Minimal Techno","Dub Techno","Wonky Techno","Techno Bass","Trance","Acid Trance","Dream Trance",
      "Hands Up","Hard Trance","Ibiza Trance","Progressive Trance","Psytrance","Progressive Psytrance","Tech Trance",
      "Trap","Hybrid Trap","UK Bass","UK Funky","UK Garage","2-Step","Breakstep","Future Garage","Speed Garage",
      "Wonky","Electropop","Folktronica","Funktronica","Glitch","Glitch Hop","Horror Synth","Hyperpop","IDM",
      "Drill and Bass","Illbient","Indietronica","Chillwave","Glitch Pop","Picopop","Latin Electronic","Electro latino",
      "Electrotango","Livetronica","Minimal Synth","Moogsploitation","Nightcore","Nu Jazz","Power Electronics",
      "Death Industrial","Power Noise","Progressive Electronic","Space Ambient","Synthpop","Futurepop","Synth Punk",
      "Synthwave","Chillsynth","Darksynth","Tecnofunk","Dreampunk","Future Funk","Vaporwave","Neo-Grime","Witch House",
      "Ambient Pop","Ambient","Alternative Dance","Grebo","New Rave","Dance-Pop","Latin Disco","Nu-Disco","Afrobeats",
      "Alt-Pop","Art Pop","Folk Pop","Bedroom Pop","Jazz Pop","Pop Rock","Vocal Trance","Dream Pop","Contemporary R&B",
      "Alternative R&B","Funk","Jazz-Funk","Soul","Pop Soul"
    ];

    function randomItem(list) {
    return list[Math.floor(Math.random() * list.length)];
  }

  function generateChordProgression() {
    const chords = ["I","ii","iii","IV","V","vi","viiÂ°"];
    const sections = ["Intro", "Verse", "Bridge", "Chorus"];
    let progression = "";

    sections.forEach(section => {
      const numChords = Math.floor(Math.random() * 4) + 3; // 3â€“6 chords
      let sectionChords = [];
      for (let c = 0; c < numChords; c++) {
        sectionChords.push(randomItem(chords));
      }
      progression += `${section}: ${sectionChords.join(" - ")}\n`;
    });

    return progression;
  }
    function generateMusicIdea() {
      const atmosphere = randomItem(atmospheres);
      const mood = randomItem(moods);
      const style = randomItem(styles);
      const theme = randomItem(themes);
      const genre = randomItem(genres);
      const chords = generateChordProgression();

      const container = document.getElementById("music-container");
      container.innerHTML = `
        <p><strong>Atmosphere:</strong> ${atmosphere}</p>
        <p><strong>Mood:</strong> ${mood}</p>
        <p><strong>Style:</strong> ${style}</p>
        <p><strong>Theme:</strong> ${theme}</p>
        <p><strong>Genre:</strong> ${genre}</p>
        <pre><strong>Chord Progression:</strong>\n${chords}</pre>
      `;
    }

    function generateBoth() {
      getRandomPainting();
      generateMusicIdea();
    }
  </script>
</body>
</html>
