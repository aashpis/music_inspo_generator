<!-- 
    
A song inspo generator 
credit to lucas figari for the original idea and code - https://lucasdanielfigari.github.io/musicalideasgenerator

features added are the painting fetcher and chord progression generator

-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Art & Music Idea Generator</title>
  <style>
  body {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    background: #fdfdfd;
    margin: 0;
    padding: 40px;
    color: #111;
  }
  h1 {
    text-align: center;
    font-weight: 600;
    margin-bottom: 40px;
    font-size: 2.5rem;
  }
  .main-controls {
    text-align: center;
    margin-bottom: 40px;
  }
  .container {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 40px;
    max-width: 1400px;
    margin: 0 auto;
  }
  .column {
    flex: 1;
    background: #fff;
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .image-frame {
    width: 600px;
    height: 600px;
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    background: #f5f5f5;
    margin-top: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .image-frame img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
  }
  button {
    padding: 14px 28px;
    font-size: 18px;
    margin: 20px 10px;
    cursor: pointer;
    border: none;
    border-radius: 10px;
    background: #111;
    color: #fff;
    font-weight: 600;
    transition: background 0.2s;
  }
  button:hover {
    background: #444;
  }
  .music-output {
    width: 100%;
    max-width: 600px;
  }
  .music-output p, .music-output pre {
    margin: 8px 0;
    line-height: 1.5;
  }
  a.met-link {
    color: #111;
    text-decoration: none;
    font-weight: 500;
  }
  a.met-link:hover {
    text-decoration: underline;
  }
  @media(max-width: 1300px) {
    .container {
      flex-direction: column;
      align-items: center;
    }
  }
  </style>
</head>
<body>
  <h1>Song Idea Generator</h1>
  
  <div class="main-controls">
    <button onclick="generateBoth()">Generate Painting + Music Idea</button>
    <button onclick="downloadIdea()">Download Art & Music Idea</button>
  </div>

  <div class="container">
    <!-- Painting Section -->
    <div id="painting-section" class="column">
      <h2>Painting</h2>
      <div id="painting-container">
        <p>Click the button to load a painting.</p>
      </div>
    </div>

    <!-- Music Section -->
    <div id="music-section" class="column">
      <h2>Music Idea</h2>
      <div id="music-container" class="music-output">
        <p>Click the button to generate a music idea.</p>
      </div>
    </div>
  </div>

  <script>
    // -----------------------
    // MET Painting Generator
    // -----------------------
    async function getRandomPainting() {
      const container = document.getElementById("painting-container");
      container.innerHTML = "<p>Loading painting...</p>";

      try {
        const searchResponse = await fetch("https://collectionapi.metmuseum.org/public/collection/v1/search?hasImages=true&q=painting");
        const searchData = await searchResponse.json();

        if (!searchData.objectIDs || searchData.objectIDs.length === 0) {
          container.innerHTML = "<p>No paintings available.</p>";
          return;
        }

        let objectData = null;
        let attempts = 0;

        while (attempts < 10) {
          attempts++;
          const randomId = searchData.objectIDs[Math.floor(Math.random() * searchData.objectIDs.length)];
          const objectResponse = await fetch(`https://collectionapi.metmuseum.org/public/collection/v1/objects/${randomId}`);
          objectData = await objectResponse.json();

          if (objectData && objectData.objectName && objectData.objectName.toLowerCase() === "painting" && objectData.primaryImage) {
            container.innerHTML = `
              <h3 id="painting-title">${objectData.title}</h3>
              <p><strong>Artist:</strong> <span id="painting-artist">${objectData.artistDisplayName || "Unknown"}</span></p>
              <a id="painting-link" class="met-link" href="${objectData.objectURL}" target="_blank">ðŸ”— View on The MET's Website</a>
              <div class="image-frame">
                <img id="painting-img" src="${objectData.primaryImage}" alt="${objectData.title}">
              </div>
            `;
            return;
          }
        }

        container.innerHTML = "<p>Couldn't find a painting after 10 tries. Try again.</p>";
      } catch (error) {
        container.innerHTML = "<p>Failed to load painting. Try again.</p>";
        console.error(error);
      }
    }

    // -----------------------
    // Musical Idea Generator taken from: https://lucasdanielfigari.github.io/musicalideasgenerator
    // -----------------------
    const atmospheres = ["Apocalyptic","Bright","Cold","Dark","Epic","Ethereal","Futuristic","Hazy","Hypnotic","Mechanical","Medieval","Natural","Nocturnal","Party","Pastoral","Peaceful","Psychedelic","Autumn","Spring","Summer","Winter","Space","Spiritual","Surreal","Urban","Warm"];
    const moods = ["Angry","Aggressive","Anxious","Bittersweet","Calm","Disturbing","Energetic","Happy","Lethargic","Longing","Mellow","Passionate","Playful","Quirky","Romantic","Sad","Depressive","Lonely","Melancholic","Sombre","Sensual","Sentimental","Uplifting","Triumphant"];
    const styles = ["Angular","Anthemic","Atmospheric","Atonal","Avant-garde","Chaotic","Complex","Dense","Dissonant","Eclectic","Heavy","Lush","Maximalist","Melodic","Microtonal","Minimalistic","Noisy","Polyphonic","Polyrhythmic","Progressive","Raw","Repetitive","Rhythmic","Bouncy","Punchy","Smooth","Soft","Sparse","Technical","Theatrical"];
    const themes = ["Abstract","Adolescence","Afterlife","Ageing","Alienation","Aliens","Apology","Betrayal","Infidelity","Birthday","Childhood","Community","Conscious","Conspiracy","Crime","Dancing","Death","Domestic","Dystopian","Cyberpunk","Educational","Escapism","Failure","Fame","Family","Parenthood","Fantasy","Fashion","Film","Folklore","Food","Friendship","Greed","Grief","Health","Disease","Fitness","Mental health","Addiction","Sobriety","Hedonistic","History","Antiquity","Prehistory","Holiday","Vegetarianism","Internet","Introspective","Regret","Leisure","Literature","Love","Breakup","Loyalty","Marriage","Money","Mythology","Nature","Animals","Nostalgia","Obsession","Occult","Paranoia","Paranormal","Patriotic","Philosophical","Existential","Nihilistic","Pirates","Police","Prison","School","Science fiction","Self-hatred","Self-love","Sexual","Sleep","Dreams","Sports","Suburban","Television","Travel","Vehicles","Video games","Vikings","Violence","War","Wild West","Work"];
    const genres = ["Chiptune","Bitpop","Celtic Electronica","Chillout","Ambient Dub","Ambient House","Ambient Trance","Downtempo","Trip Hop","Drum and Bass","Dubstep","Future Bass","House","Lo-Fi House","Progressive House","Techno","Trance","Trap","UK Garage","Electropop","Hyperpop","IDM","Indietronica","Synthwave","Vaporwave","Witch House","Dream Pop","Contemporary R&B","Alternative R&B","Funk","Jazz-Funk","Soul","Pop Soul"];

    function randomItem(list) {
      return list[Math.floor(Math.random() * list.length)];
    }

    function generateChordProgression() {
      const chords = ["I","ii","iii","IV","V","vi","viiÂ°"];
      const sections = ["Intro", "Verse", "Bridge", "Chorus"];
      let progression = "";

      sections.forEach(section => {
        const numChords = Math.floor(Math.random() * 4) + 3; // 3â€“6 chords
        let sectionChords = [];
        for (let c = 0; c < numChords; c++) {
          sectionChords.push(randomItem(chords));
        }
        progression += `${section}: ${sectionChords.join(" - ")}\n`;
      });

      return progression;
    }

    function generateMusicIdea() {
      const atmosphere = randomItem(atmospheres);
      const mood = randomItem(moods);
      const style = randomItem(styles);
      const theme = randomItem(themes);
      const genre = randomItem(genres);
      const chords = generateChordProgression();

      const container = document.getElementById("music-container");
      container.innerHTML = `
        <p><strong>Atmosphere:</strong> ${atmosphere}</p>
        <p><strong>Mood:</strong> ${mood}</p>
        <p><strong>Style:</strong> ${style}</p>
        <p><strong>Theme:</strong> ${theme}</p>
        <p><strong>Genre:</strong> ${genre}</p>
        <pre><strong>Chord Progression:</strong>\n${chords}</pre>
      `;
    }

    function generateBoth() {
      getRandomPainting();
      generateMusicIdea();
    }

    // -----------------------
    // Download Function
    // -----------------------
    function downloadIdea() {
      const title = document.getElementById("painting-title")?.innerText || "Unknown";
      const artist = document.getElementById("painting-artist")?.innerText || "Unknown";
      const link = document.getElementById("painting-link")?.href || "N/A";
      const musicText = document.getElementById("music-container").innerText || "No music idea generated.";

      let content = `ðŸŽ¨ Painting\nTitle: ${title}\nArtist: ${artist}\nLink: ${link}\n\nðŸŽ¶ Music Idea\n${musicText}`;

      const blob = new Blob([content], { type: "text/plain" });
      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = "Art_Music_Idea.txt";
      a.click();
    }
  </script>
</body>
</html>
